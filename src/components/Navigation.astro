---
const links = [
  { href: '/', label: 'Home' },
  { href: '/ai', label: 'AI' },
  { href: '/ux', label: 'UX' },
  { href: '/about', label: 'About Me' },
];

// Remove trailing "/" but keep "/" for home
const normalize = (path: string) => path.replace(/\/+$/, '') || '/';

const currentPath = normalize(Astro.url.pathname);
---

<nav class="flex items-center gap-6 text-sm font-medium">
  {
    links.map((link) => {
      const href = normalize(link.href);

      const isActive =
        href === '/'
          ? currentPath === '/'
          : currentPath === href || currentPath.startsWith(href + '/');

      return (
        <a
          href={link.href}
          class={
            isActive
              ? 'pb-1 border-b-2 border-primary text-foreground'
              : 'pb-1 border-b-2 border-transparent text-foreground/70 hover:text-foreground hover:border-primary/60'
          }
        >
          {link.label}
        </a>
      );
    })
  }
</nav>
