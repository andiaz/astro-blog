---
const links = [
  { href: '/', label: 'Home' },
  { href: '/ai', label: 'AI' },
  { href: '/ux', label: 'UX' },
  { href: '/about', label: 'About Me' },
];

// Remove trailing slashes, keep "/" for home
const normalize = (path: string) => path.replace(/\/+$/, '') || '/';

const currentPath = normalize(Astro.url.pathname);
---

<nav class="flex items-center gap-6 text-sm font-medium">
  {
    links.map((link) => {
      const href = normalize(link.href);

      const isActive =
        href === '/'
          ? currentPath === '/'
          : currentPath === href || currentPath.startsWith(href + '/');

      return (
        <a
          href={link.href}
          class={`pb-1 border-b-2 transition-colors ${
            isActive
              ? 'text-foreground border-primary'
              : 'text-foreground/70 border-transparent hover:text-foreground hover:border-primary/60'
          }`}
        >
          {link.label}
        </a>
      );
    })
  }
</nav>
